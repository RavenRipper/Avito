Тест-кейсы для API микросервиса объявлений (host: )

1. Создание объявления (POST /api/1/item)

1.1 Позитивный кейс: создание объявления с корректными данными

Предусловия: нет созданных объявлений для sellerID.

Шаги: отправить POST-запрос с телом:

{
  "sellerID": 111111,
  "name": "Тестовый товар",
  "price": 1000,
  "statistics": {
    "contacts": 3,
    "likes": 500,
    "viewCount": 1523
  }
}


Ожидаемый результат: статус-код 200 OK, в ответе поле status с UUID созданного объявления.

1.2 Негативный кейс: отсутствие обязательного поля name

Шаги: отправить POST-запрос без поля name.

Ожидаемый результат: статус-код 400 Bad Request, сообщение об ошибке.

1.3 Негативный кейс: некорректный sellerID (выход за диапазон)

Шаги: отправить POST-запрос с sellerID = 100000 (меньше допустимого).

Ожидаемый результат: статус-код 400 Bad Request, валидационное сообщение.

1.4 Негативный кейс: price не числового типа

Шаги: отправить POST-запрос с price = "abc".

Ожидаемый результат: статус-код 400 Bad Request.

2. Получение объявления по ID (GET /api/1/item/:id)

2.1 Позитивный кейс: получение существующего объявления

Предусловия: создано объявление (из TC001), сохранён UUID.

Шаги: отправить GET-запрос с корректным UUID.

Ожидаемый результат: статус-код 200 OK, данные объявления в ответе.

2.2 Негативный кейс: поиск несуществующего объявления

Шаги: отправить GET-запрос с несуществующим UUID.

Ожидаемый результат: статус-код 404 Not Found, сообщение «элемент {id} не найден».

2.3 Негативный кейс: некорректный формат ID

Шаги: отправить GET-запрос с ID = «abc123».

Ожидаемый результат: статус-код 400 Bad Request.

3. Получение всех объявлений по ID продавца (GET /api/1/:sellerID/item)

3.1 Позитивный кейс: получение объявлений для продавца с объявлениями

Предусловия: у sellerID есть минимум 2 объявления.

Шаги: отправить GET-запрос с корректным sellerID.

Ожидаемый результат: статус-код 200 OK, массив объявлений.

3.2 Позитивный кейс: пустой список объявлений для продавца

Предусловия: у sellerID нет объявлений.

Шаги: отправить GET-запрос с sellerID.

Ожидаемый результат: статус-код 200 OK, пустой массив [].

3.3 Негативный кейс: некорректный sellerID

Шаги: отправить GET-запрос с sellerID = 000000 (вне диапазона).

Ожидаемый результат: статус-код 400 Bad Request.

4. Получение статистики по item ID (GET /api/2/statistic/:id)

4.1 Позитивный кейс: получение статистики для существующего объявления

Предусловия: создано объявление (из TC001), сохранён UUID.

Шаги: отправить GET-запрос с UUID объявления.

Ожидаемый результат: статус-код 200 OK, статистика в формате:

json
{"contacts": 3, "likes": 500, "viewCount": 1523}

4.2 Негативный кейс: статистика для несуществующего объявления

Шаги: отправить GET-запрос с несуществующим UUID.

Ожидаемый результат: статус-код 404 Not Found, сообщение «статистика {id} не найдена».

4.3 Негативный кейс: некорректный формат ID в статистике

Шаги: отправить GET-запрос с ID = «xyz789».

Ожидаемый результат: статус-код 400 Bad Request.
